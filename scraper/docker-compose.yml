version: "3.7"
services:
  baseImage:
    image: base
    env_file: ${ENV_FILE}
    build: .
  scraper-api-3001:
    image: base
    env_file: ${ENV_FILE}
    environment:
      - DISPLAY=:101
      - PORT=3001
    command: >
      sh -c "Xvfb :101 -screen 0 1024x768x16 &
            yarn run start"
    ports:
      - 3001:3001
  scraper-api-3002:
    image: base
    env_file: ${ENV_FILE}
    environment:
      - DISPLAY=:102
      - PORT=3002
    command: >
      sh -c "Xvfb :102 -screen 0 1024x768x16 &
            yarn run start"
    ports:
      - 3002:3002
  scraper-api-3003:
    image: base
    env_file: ${ENV_FILE}
    environment:
      - DISPLAY=:103
      - PORT=3003
    command: >
      sh -c "Xvfb :103 -screen 0 1024x768x16 &
            yarn run start"
    ports:
      - 3003:3003
  scraper-api-3004:
    image: base
    env_file: ${ENV_FILE}
    environment:
      - DISPLAY=:104
      - PORT=3004
    command: >
      sh -c "Xvfb :104 -screen 0 1024x768x16 &
            yarn run start"
    ports:
      - 3004:3004
  scraper-api-3005:
    image: base
    env_file: ${ENV_FILE}
    environment:
      - DISPLAY=:105
      - PORT=3005
    command: >
      sh -c "Xvfb :105 -screen 0 1024x768x16 &
            yarn run start"
    ports:
      - 3005:3005
  scraper-api-3006:
    image: base
    env_file: ${ENV_FILE}
    environment:
      - DISPLAY=:106
      - PORT=3006
    command: >
      sh -c "Xvfb :106 -screen 0 1024x768x16 &
            yarn run start"
    ports:
      - 3006:3006
  scraper-api-3007:
    image: base
    env_file: ${ENV_FILE}
    environment:
      - DISPLAY=:107
      - PORT=3007
    command: >
      sh -c "Xvfb :107 -screen 0 1024x768x16 &
            yarn run start"
    ports:
      - 3007:3007
  scraper-api-3008:
    image: base
    env_file: ${ENV_FILE}
    environment:
      - DISPLAY=:108
      - PORT=3008
    command: >
      sh -c "Xvfb :108 -screen 0 1024x768x16 &
            yarn run start"
    ports:
      - 3008:3008
  scraper-api-3009:
    image: base
    env_file: ${ENV_FILE}
    environment:
      - DISPLAY=:109
      - PORT=3009
    command: >
      sh -c "Xvfb :109 -screen 0 1024x768x16 &
            yarn run start"
    ports:
      - 3009:3009
  scraper-api-3010:
    image: base
    env_file: ${ENV_FILE}
    environment:
      - DISPLAY=:110
      - PORT=3010
    command: >
      sh -c "Xvfb :110 -screen 0 1024x768x16 &
            yarn run start"
    ports:
      - 3010:3010